---
title: AI小镇策划
description: ""
date: "2025-10-18"
tags:
  - ai-project
docId: bkxwg1m9p9rnm8062wsm020w
---

# AI小镇策划

## 1. 项目概述

- **类型**：多智能体（NPC）驱动的轻模拟 + 社交 + 任务制小品游戏
- **核心卖点**：NPC 会“记住你”、会互相对话协作；玩家可用**社区贡献积分**（发帖/PR 等）在游戏内获得货币/能力，驱动小镇事件
- **技术基座**：Godot 4（Microverse 风格）+ 多智能体（O-R-P-A：观察→检索→计划→行动）+ 本地模型优先（可模板兜底）

## 2. 目标（MVP）

1. 单地图 + 3 NPC（商人/信使/编辑）+ 任务板（取物/传话/打卡）
2. 对话与**短期记忆 + 日终摘要**
3. **社区联动最小实现**：支持输入“兑换码”获得金币/行动点（未来切 webhook 自动发放）
4. 用积分（或兑换所得金币）触发 2—3 个**可见的世界变化**（折扣日 / 额外任务 / 对话上限+）

## 3. 核心玩法（第一版）

- **Loop**：接任务 → 与 NPC 对话/协作 → 完成得金币/AP → 夜间生成摘要 → 第二天事件刷新
- **积分/金币用途**（任意选 2–3 个先做）
  - 解锁商店**折扣日**（全镇价格-10%）
  - 购买**行动点**（当天可多做 1 个任务）
  - 购买**对话预算**（当日与 NPC 额外深聊 3 轮）
  - 开启**主题日公告**（编辑 NPC 发布，NPC 对话更活跃）

## 4. 与开源社区联动（两阶段）

### 阶段 A（MVP）—兑换码核销

- 社区后台发放一次性**兑换码**（含积分值/有效期）；游戏内输入 → 服务器核销 → 回包金币/AP
- **优点**：无需登录/绑定，最稳可上架

### 阶段 B（中期）—Webhook 自动发放

- GitHub/站点的发帖、PR 合并触发 Webhook → 写入 `pending_rewards`
- 游戏启动或点击“同步”→ 拉取待发放奖励 → 自动入账
- 可选绑定 Steam/GitHub 账号做强身份

## 5. 系统架构（最小模块）

- **客户端（Godot）**
  - `Wallet`（金币/AP 权威入口）
  - `TaskManager`、`DialogManager`、`MemoryManager`、`CharacterManager`
  - `TownEventBus`（广播开店/午休/打烊/主题日）
  - `RedeemPanel`（兑换码 UI）

- **服务（可合并到社区后端）**
  - `/api/v1/redeem`（一次性核销）
  - （预留）`/api/v1/rewards/pending`、`/webhooks/github`

**数据流（MVP）**
社区发码 → 玩家在游戏内输入 → `redeem` 核销 → 回包金币/AP → `Wallet` 入账 → `TownEventBus` 触发折扣/任务刷新

## 6. 计分与消耗（初稿）

| 行为       | 社区端获得积分 | 游戏内折算（示例）         |
| ---------- | -------------: | -------------------------- |
| 发帖通过   |            +80 | 80 积分 = 400 金币         |
| PR 合并    |            +80 | 80 积分 = 400 金币         |
| 文章被推荐 |            +50 | 50 积分 = 1 次“主题日”道具 |

> 兑换比例放配置文件；活动可临时加成（例如周末 1.2×）
